<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<script src="../dist/pngCipher-0.0.1.min.js"></script>
		<title>PNG Cipher</title>
	</head>
	<body>
		<h1>PNG Cipher</h1>
		<p>This example shows how to decode a png from a file. Open the included 'openThisFile.png'</p>
		<br />
		<input id="input" type="file" />
		<br style="clear:both" />
		<br />
		<textarea id="data0" style="width: 400px; height: 300px; float: left;"></textarea>
		<script>
			var $input 	= document.getElementById("input");
			var data0 	= document.querySelector('#data0');
			var f 		= new FileReader();

			$input.onchange = function() {
				f.readAsDataURL($input.files[0]);
			};
			f.onload = function() {
				var s = f.result.replace("data:image/png;base64,", "");
				pngCipher.decode(s, onError, onSuccess);
			};
			function onError(err) {
				alert("There's been an error!\n\n" + err);
			}

			function onSuccess(text) {
				data0.value = text;
			}
		</script>
	</body>
</html>